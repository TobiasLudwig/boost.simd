<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!-- For Mobile Devices -->
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
        <meta name="generator" content="Doxygen 1.8.13"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.smartmenus/1.0.1/jquery.smartmenus.js"></script>
        <title>Boost.SIMD: Introduction</title>
        <script type="text/javascript" src="dynsections.js"></script>
        <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
        <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/SVG"],
});
</script><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
        <link rel="icon" href="numscale_icon.png">
        <link href='https://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
        <link href="doxygen.css" rel="stylesheet" type="text/css" />
        <link href="custom.css" rel="stylesheet" type="text/css"/>
<link href="ns.css" rel="stylesheet" type="text/css"/>
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="ns.js"></script>
        <script type="text/javascript" src="custom.js"></script>
    </head>
    <body>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container">
                <div class="navbar-header responsive-logo"/>
                    <a class="navbar-brand" href="http://developer.numscale.com/">
                        <span>Boost.SIMD</span>
                    </a>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li id="version">
                            <a href="#" class="disabled">4.17.6.0</a>
                        </li>
                    </ul>
                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a target="_blank" id="right-logo" href="http://www.numscale.com/" title="Numscale">
                                <img height=60 src="numscale.png" alt="Numscale">
                            </a>
                        </li>
                    </ul>
                </div><!-- /.navbar-collapse -->
            </div>
        </nav>
        <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
            <div class="content" id="content">
                <div class="container">
                    <div class="row">
                        <div class="col-sm-12 panel " style="padding-bottom: 35px;">
                            <div style="margin-bottom: 15px;">
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Introduction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Single instruction, multiple data (<b>SIMD</b>) instructions or <b>multimedia extensions</b> have been available for many years. They are designed to significantly accelerate code execution, however they require expertise to be used correctly, depends on non-uniform compiler support, the use of low-level intrinsics, or vendor-specific libraries.</p>
<p><b>Boost.SIMD</b> is Boost candidate library which aims to simplify the error-prone process of developing application exploiting the potential of SIMD instructions sets. <b>Boost.SIMD</b> is designed to seamlessly integrate into existing projects so that you can quickly and easily start developing high performance, portable and future proof software.</p>
<h1><a class="anchor" id="main-why"></a>
Why use Boost.SIMD?</h1>
<hr/>
<p><b>Boost.SIMD</b> standardizes and simplifies the use of SIMD instructions across hardware by not relying on verbose, low-level SIMD instructions. Furthermore, the portability of <b>Boost.SIMD</b> eliminates the need to re-write cumbersome code for each revision of each target architecture, accounting for each architecture's vendor provided API as well as architecture dependent implementation details. This greatly reduces the design complexity and maintenance of SIMD code, significantly decreasing the time required to develop, test and deploy software as well as decreasing the scope for introducing bugs.</p>
<p><b>Boost.SIMD</b> allows you to focus on the important part of your work: the development of new features and functionality. We take care of all of the architecture and compiler specific details and we provide updates when new architectures are released by manufacturers. All you have to do is re-compile your code every time you target a new architecture. <b>Boost.SIMD</b> does this by providing the following components:</p>
<ul>
<li>a proper value semantic wrapper for <em>SIMD</em> registers</li>
<li>more than 300 mathematical functions ready to use and already vectorized</li>
<li>an automatic system to detect and exploit architecture specific optimization opportunities</li>
<li>standard compliant iterators to iterate over contiguous range of data in a <em>SIMD</em> compatible way</li>
</ul>
<h2><a class="anchor" id="main-why-example"></a>
A Short Example</h2>
<hr/>
<p>Let's take a simple case where we calculate the sum of two vectors of 32-bit floats:</p>
<div class="fragment"><div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; size; ++i) {</div><div class="line">    res[i] = data0[i] + data1[i];</div><div class="line">  }</div></div><!-- fragment --><p> Each element of the results vector is independent of every other element - therefore this function may easily be vectorized as there is latent data parallelism which may be exploited. This simple loop may be vectorized for an x86 processor using Intel intrinsic functions. For example, the following code vectorizes this loop for an <code>SSE</code> enabled processor:</p>
<div class="fragment"><div class="line">  std::size_t card_sse = 4;</div><div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; size; i += card_sse) {</div><div class="line">    __m128 v0_sse = _mm_load_ps(&amp;data0[i]);</div><div class="line">    __m128 v1_sse = _mm_load_ps(&amp;data1[i]);</div><div class="line">    __m128 r_sse  = _mm_add_ps(v0_sse, v1_sse);</div><div class="line"></div><div class="line">    _mm_store_ps(&amp;res[i], r_sse);</div><div class="line">  }</div></div><!-- fragment --><p> Looks difficult? How about we vectorize it for the following generation of Intel processor equipped with <code>AVX</code> instructions:</p>
<div class="fragment"><div class="line">  std::size_t card_avx = 8;</div><div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; size; i += card_avx) {</div><div class="line">    __m256 v0_avx = _mm256_load_ps(&amp;data0[i]);</div><div class="line">    __m256 v1_avx = _mm256_load_ps(&amp;data1[i]);</div><div class="line">    __m256 r_avx  = _mm256_add_ps(v0_avx, v1_avx);</div><div class="line"></div><div class="line">    _mm256_store_ps(&amp;res[i], r_avx);</div><div class="line">  }</div></div><!-- fragment --><p> Both of these processors are manufactured by Intel yet two different versions of the code are required to get the best performance possible from each processor. This is quickly getting complicated and annoying.</p>
<p>Now, look at how the code can become simpler with <b>Boost.SIMD</b> :</p>
<div class="fragment"><div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; size; i += boost::simd::pack&lt;float&gt;::static_size) {</div><div class="line">    <a class="code" href="classboost_1_1simd_1_1pack.html">boost::simd::pack&lt;float&gt;</a> v0(&amp;data0[i]), v1(&amp;data1[i]);</div><div class="line">    <a class="code" href="namespaceboost_1_1simd_a4ed68ffaf85541b38d482775dd5a4671.html#a4ed68ffaf85541b38d482775dd5a4671">boost::simd::aligned_store</a>(v0 + v1, &amp;res[i]);</div><div class="line">  }</div></div><!-- fragment --><p> And of course, if your C++ sense is tingling, you may have noticed that this piece of code can actually be written using a standard algorithm such as <code>std::transform</code>. The good news is that <b>Boost.SIMD</b> also provides a vectorized version of these algorithms:</p>
<div class="fragment"><div class="line">  <a class="code" href="group__group-algo_ga226c9eea2e9b805d97ae1d0083521151.html#ga226c9eea2e9b805d97ae1d0083521151">boost::simd::transform</a>(&amp;data0[0], &amp;data0[0] + size, &amp;data1[0], &amp;res[0], <a class="code" href="group__group-operator_gab7d2f36a67787bac4c1b2cfd05ba2b47.html#gab7d2f36a67787bac4c1b2cfd05ba2b47">boost::simd::plus</a>);</div></div><!-- fragment --><p> Happy user of C++14 ? <b>Boost.SIMD</b> also supports the latest additions to the language such as generic lambda functions:</p>
<div class="fragment"><div class="line">  <a class="code" href="group__group-algo_ga226c9eea2e9b805d97ae1d0083521151.html#ga226c9eea2e9b805d97ae1d0083521151">boost::simd::transform</a>(&amp;data[0], &amp;data[0] + size, &amp;data1[0], &amp;res[0],</div><div class="line">                         [](<span class="keyword">auto</span> <span class="keyword">const</span>&amp; a, <span class="keyword">auto</span> <span class="keyword">const</span>&amp; b) { <span class="keywordflow">return</span> a + b; });</div></div><!-- fragment --> <h2><a class="anchor" id="main-support"></a>
Supported Compilers and Hardware</h2>
<hr/>
<p><b>Boost.SIMD</b> includes support for some Intel processors:</p>
<center> <table class="doxtable">
<tr>
<th>Architecture </th><th>Extensions  </th></tr>
<tr>
<td>x86 </td><td>SSE2, SSE3, SSSE3, SSE4.1, SSE4.2, AVX, FMA3, AVX2 </td></tr>
</table>
</center><p><b>Boost.SIMD</b> requires a C++11 compliant compiler and is thoroughly tested on the following compilers:</p>
<center> <table class="doxtable">
<tr>
<th>Compiler </th><th>Version  </th></tr>
<tr>
<td>g++ </td><td>4.8 or above </td></tr>
<tr>
<td>clang++ </td><td>3.5 or above </td></tr>
<tr>
<td>Microsoft Visual Studio </td><td>2015 update 1 or above </td></tr>
<tr>
<td>Intel C++ Compiler </td><td>16.0 or above </td></tr>
</table>
</center><p><b>Boost.SIMD</b> requires <b>Boost</b> version 1.60 or newer. </p><hr/>
 </div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <hr class="footer"/>
        <address class="footer">
            <small>
                Generated on Fri Jun 9 2017 10:02:14 for Boost.SIMD by &#160;
                <a href="http://www.doxygen.org/index.html">
                    <img class="footer" src="doxygen.png" alt="doxygen"/>
                </a>
                1.8.13
            </small>
        </address>
    </body>
</html>
